{% extends 'base.html' %}
{% set page = 'aliments' %}
{% include "navbar.html" %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages.css') }}">
<div class="content">
    <h1 class="title">{% block title %} Aliments {% endblock %}</h1>
    <div>
        <form method="POST" action="{{ url_for('ajouter_aliment') }}">
            <div class="form-row">
                <div class="col-md-6">
                    <label for="titre">Titre:</label>
                    <input type="text" id="titre" name="titre" class="form-control" placeholder="Titre" required>
                </div>
                <div class="col-md-6">
                    <label for="kcal">Kcal:</label>
                    <input type="number" id="kcal" name="kcal" class="form-control" placeholder="Kcal" required>
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-6">
                    <label for="proteines">Protéines:</label>
                    <input type="number" id="proteines" name="proteines" class="form-control" placeholder="Protéines">
                </div>
                <div class="col-md-6">
                    <label for="glucides">Glucides:</label>
                    <input type="number" id="glucides" name="glucides" class="form-control" placeholder="Glucides">
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-6">
                    <label for="lipides">Lipides:</label>
                    <input type="number" id="lipides" name="lipides" class="form-control" placeholder="Lipides">
                </div>
                <div class="col-md-6">
                    <label for="categorie">Catégorie:</label>
                    <select id="categorie" name="categorie" class="form-control" required>
                        <option value="légume">Légume</option>
                        <option value="fruit">Fruit</option>
                        <option value="féculent">Féculent</option>
                        <option value="poisson">Poisson</option>
                        <option value="viande">Viande</option>
                    </select>    
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-6">
                    <label for="photo">Photo:</label>
                    <input type="text" id="photo" name="photo" class="form-control" placeholder="Photo">
                </div>
                <div class="col-md-6">
                    <label for="description">Description:</label>
                    <input type="text" id="description" name="description" class="form-control" placeholder="Description">
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-12">
                    <label for="unite">Unité:</label>
                    <input type="checkbox" id="unite" name="unite">
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-12">
                    <input type="submit" value="Ajouter" class="btn btn-primary">
                </div>
            </div>
        </form>               
    </div>
    <div>
        <table class="table table-striped table-bordered">
            <tr>
                <th>Titre</th>
                <th>Kcal</th>
                <th>Protéines</th>
                <th>Glucides</th>
                <th>Lipides</th>
                <th>Catégorie</th>
                <th>Photo</th>
                <th>Description</th>
                <th>Unité</th>
                <th>Modifier</th>
                <th>Supprimer</th>
            </tr>
            {% for aliment in aliments %}
            <tr>
                <td>{{ aliment.titre }}</td>
                <td>{{ aliment.kcal }}</td>
                <td>{{ aliment.proteines }}</td>
                <td>{{ aliment.glucides }}</td>
                <td>{{ aliment.lipides }}</td>
                <td>{{ aliment.categorie }}</td>
                <td>{{ aliment.photo }}</td>
                <td>{{ aliment.description[:20] }}...</td>
                <td>{{ aliment.unite }}</td>
                <td>
                    <a href="{{ url_for('modifier_aliment', id=aliment.id) }}" class="btn btn-primary">Modifier</a>
                </td>
                <td>
                    <a href="{{ url_for('supprimer_aliment', id=aliment.id) }}" class="btn btn-danger">Supprimer</a>
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
</div>
{% endblock %}