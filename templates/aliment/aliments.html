{% extends 'base.html' %}

{% block content %}
{% set page = 'aliments' %}
{% set place = ["accueil","aliments"] %}
{% with breadcrumb=place %}
    {% include "navbar.html" %}
{% endwith %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/pages.css') }}">
<div class="content">
<h1 class="title">{% block title %} Aliments {% endblock %}</h1>
<div class="content_aliments bg-light">
    <div>
        <form method="POST" action="{{ url_for('controllers.ajouter_aliment') }}"  enctype="multipart/form-data">
            <div class="form-row">
                <div class="input-group mb-3 col-md-6">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="titre">Titre</span>
                    </div>
                    <input type="text" id="titre" name="titre" class="form-control" placeholder="Titre" required>
                </div>
                <div class="input-group mb-3 col-md-6">
                    <input type="number" id="kcal" name="kcal" class="form-control" placeholder="Kcal" required>
                    <div class="input-group-append">
                        <span class="input-group-text" id="kcal">Kcal</span>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="input-group mb-3 col-md-4">
                    <input type="number" id="proteines" name="proteines" class="form-control" placeholder="Protéines" required>
                    <div class="input-group-append">
                        <span class="input-group-text" id="proteines">Protéines</span>
                    </div>
                </div>
                <div class="input-group mb-3 col-md-4">
                    <input type="number" id="glucides" name="glucides" class="form-control" placeholder="Glucides" required>
                    <div class="input-group-append">
                        <span class="input-group-text" id="glucides">Glucides</span>
                    </div>
                </div>
                <div class="input-group mb-3 col-md-4">
                    <input type="number" id="lipides" name="lipides" class="form-control" placeholder="Lipides" required>
                    <div class="input-group-append">
                        <span class="input-group-text" id="lipides">Lipides</span>
                    </div>
                </div>  
            </div>
            <div class="form-row">
                <div class="input-group mb-3 col-md-6">
                    <select id="categorie" name="categorie" class="form-control" required>
                        <option value="légume">Légume</option>
                        <option value="boisson">Boisson</option>
                        <option value="féculent">Féculent</option>
                        <option value="fruit">Fruit</option>
                        <option value="légumineuse">Légumineuse</option>
                        <option value="matière grasse">Matière grasse</option>
                        <option value="produit laitier">Produit laitier</option>
                        <option value="poisson">Poisson</option>
                        <option value="viande">Viande</option>
                        <option value="sucrerie">Sucrerie</option>
                        <option value="autre">Autre</option>
                    </select>    
                </div>
                <div class="input-group mb-3 col-md-6">
                    <input class="form-control" type="file" id="fichier_photo" name="fichier_photo">
                </div>
            </div>
            
            <div class="form-row">
                <div class="input-group mb-3 col-md-9">
                    <span class="input-group-text">Description</span>
                    <textarea class="form-control" id="description" name="description" aria-label="With textarea"></textarea>
                </div>

                <div class="input-group mb-3 col-md-2">
                    <div class="form-check">
                        <input class="form-check-input" value="0" type="radio" name="unite" id="flexRadioDefault1" value="100 g" required>
                        <label class="form-check-label" for="flexRadioDefault1">
                            100 g
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" value="1" type="radio" name="unite" id="flexRadioDefault2" value="1 portion" required>
                        <label class="form-check-label" for="flexRadioDefault2">
                            1 portion
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" value="2" type="radio" name="unite" id="flexRadioDefault3" value="100 mL" required  >
                        <label class="form-check-label" for="flexRadioDefault3">
                            100 mL
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-row text-center" style="padding-bottom: 0.5cm;">
                <div class="col-md-12">
                    <input type="submit" value="Ajouter" class="btn btn-primary">
                </div>
            </div>
        </form>               
    </div>
</div>

<div class="content_aliments_table bg-light text-center">
    <form method="post" action="{{ url_for('controllers.importer_csv_aliment') }}" enctype="multipart/form-data">
        <input class="form-control" type="file" id="fichier_aliment" name="fichier_aliment" onchange="checkFileSelectedAliment()">
        <button type="submit" class="btn btn-primary" id="bouton_importer_aliment" style="margin: 5px" disabled>Importer</button>
    </form>
    <a href="{{ url_for('controllers.export_csv_aliment') }}" class="btn btn-primary">Exporter</a>
</div>
<div class="content_aliments bg-light">
    <form id="search-form" class="form-inline" style="padding-bottom: 0.5cm;">
        <input id="filterInput" type="text" name="search" class="form-control" placeholder="Rechercher un aliment" aria-label="Rechercher un aliment">
        <select id="filterSelect" name="filterSelect" class="form-control" required></select>   
    </form>
    
    <table class="table table-striped table-bordered">      
        <tr class="element_aliment" id="dataContainer"></tr>
    </table>
    
    <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center" id="pagination">
        <li class="page-item">
        <a class="page-link" href="#" aria-label="Previous" id="prevPage">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
        </a>
        </li>
    </ul>
    </nav>
</div>

<script src="{{ url_for('static', filename='js/base.js') }}"></script>
<script src="{{root}}{{ url_for('static', filename='js/aliment.js') }}"></script>

{% endblock %}